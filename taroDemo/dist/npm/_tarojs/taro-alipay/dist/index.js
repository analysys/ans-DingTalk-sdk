"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var taro=require("../../taro/index.js");function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}var objectIs=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t};function shallowEqual(e,t){if("object"!==_typeof(e)&&"object"!==_typeof(t))return e===t;if(null===e&&null===t)return!0;if(null===e||null===t)return!1;if(objectIs(e,t))return!0;var n=e?Object.keys(e):[],r=t?Object.keys(t):[];if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++){var a=n[o];if(!t.hasOwnProperty(a)||!objectIs(e[a],t[a]))return!1}return!0}var SimpleMap=function(){function e(){_classCallCheck(this,e),this.cache=[],this.size=0}return _createClass(e,[{key:"set",value:function(e,t){var n=this.cache.length;if(!n)return this.cache.push({k:e,v:t}),void(this.size+=1);for(var r=0;r<n;r++){var o=this.cache[r];if(o.k===e)return void(o.v=t)}this.cache.push({k:e,v:t}),this.size+=1}},{key:"get",value:function(e){var t=this.cache.length;if(t)for(var n=0;n<t;n++){var r=this.cache[n];if(r.k===e)return r.v}}},{key:"has",value:function(e){var t=this.cache.length;if(!t)return!1;for(var n=0;n<t;n++){if(this.cache[n].k===e)return!0}return!1}},{key:"delete",value:function(e){for(var t=this.cache.length,n=0;n<t;n++){if(this.cache[n].k===e)return this.cache.splice(n,1),--this.size,!0}return!1}},{key:"clear",value:function(){var e=this.cache.length;if(this.size=0,e)for(;e;)this.cache.pop(),e--}}]),e}();function addLeadingSlash(e){return"/"===e.charAt(0)?e:"/"+e}function getCurrentPageUrl(){var e=getCurrentPages(),t=e[e.length-1];return addLeadingSlash(t.route||t.__route__)}var nextTick=function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e="function"==typeof e?e.bind.apply(e,[null].concat(n)):e,(my.nextTick?my.nextTick:setTimeout)(e)},commonjsGlobal="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function unwrapExports(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function createCommonjsModule(e,t){return e(t={exports:{}},t.exports),t.exports}var freeGlobal="object"==_typeof(commonjsGlobal)&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,_freeGlobal=freeGlobal,freeSelf="object"==("undefined"==typeof self?"undefined":_typeof(self))&&self&&self.Object===Object&&self,root=_freeGlobal||freeSelf||Function("return this")(),_root=root,_Symbol2=_root.Symbol,_Symbol=_Symbol2,objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,nativeObjectToString=objectProto.toString,symToStringTag=_Symbol2?_Symbol2.toStringTag:void 0;function getRawTag(e){var t=hasOwnProperty.call(e,symToStringTag),n=e[symToStringTag];try{e[symToStringTag]=void 0}catch(e){}var r=nativeObjectToString.call(e);return t?e[symToStringTag]=n:delete e[symToStringTag],r}var _getRawTag=getRawTag,objectProto$1=Object.prototype,nativeObjectToString$1=objectProto$1.toString;function objectToString(e){return nativeObjectToString$1.call(e)}var _objectToString=objectToString,nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag$1=_Symbol2?_Symbol2.toStringTag:void 0;function baseGetTag(e){return null==e?void 0===e?undefinedTag:nullTag:(symToStringTag$1&&symToStringTag$1 in Object(e)?_getRawTag:_objectToString)(e)}var _baseGetTag=baseGetTag;function overArg(t,n){return function(e){return t(n(e))}}var _overArg=overArg,getPrototype=_overArg(Object.getPrototypeOf,Object),_getPrototype=getPrototype;function isObjectLike(e){return null!=e&&"object"==_typeof(e)}var isObjectLike_1=isObjectLike,objectTag="[object Object]",funcProto=Function.prototype,objectProto$2=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$1=objectProto$2.hasOwnProperty,objectCtorString=funcToString.call(Object);function isPlainObject(e){if(!isObjectLike_1(e)||_baseGetTag(e)!=objectTag)return!1;var t=_getPrototype(e);if(null===t)return!0;var n=hasOwnProperty$1.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&funcToString.call(n)==objectCtorString}var isPlainObject_1=isPlainObject;function isEmptyObject(e){if(!e||!isPlainObject_1(e))return!1;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function isUndefined(e){return void 0===e}function isFunction(e){return"function"==typeof e}function isArray(e){return Array.isArray(e)}function shakeFnFromObject(e){var t;if(isArray(e)){t=[];for(var n=e.length,r=0;r<n;r++)t.push(shakeFnFromObject(e[r]))}else{if(!isPlainObject_1(e))return e;for(var o in t={},e)if(!isFunction(e[o])){var a=shakeFnFromObject(e[o]);t[o]=a}}return t}var keyList=Object.keys,hasProp=Object.prototype.hasOwnProperty;function diffArrToPath(s,c){for(var p=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},u=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"",e=s.length,t=function(e){var t=s[e],n=c[e],r="".concat(u,"[").concat(e,"]");if(t===n)return"continue";if(_typeof(t)!==_typeof(n))p[r]=t;else if("object"!==_typeof(t))p[r]=t;else{var o=isArray(t),a=isArray(n);if(o!==a)p[r]=t;else if(o&&a)t.length<n.length?p[r]=t:diffArrToPath(t,n,p,"".concat(r));else if(!t||!n||keyList(t).length<keyList(n).length)p[r]=t;else{var i=!0;Object.keys(n).some(function(e){if(void 0===t[e]&&void 0!==n[e])return!(i=!1)}),i?diffObjToPath(t,n,p,"".concat(r,".")):p[r]=t}}},n=0;n<e;n++)t(n);return p}function diffObjToPath(c,p){for(var u=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},l=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"",f=keyList(c),e=f.length,t=function(e){var t=f[e],n=c[t],r=p[t],o="".concat(l).concat(t);if(n===r)return"continue";if(hasProp.call(p,t))if(_typeof(n)!==_typeof(r))u[o]=n;else if("object"!==_typeof(n))u[o]=n;else{var a=isArray(n),i=isArray(r);if(a!==i)u[o]=n;else if(a&&i)n.length<r.length?u[o]=n:diffArrToPath(n,r,u,"".concat(o));else if(n&&r){var s=!0;Object.keys(r).some(function(e){if(void 0===n[e]&&void 0!==r[e])return!(s=!1)}),s?diffObjToPath(n,r,u,"".concat(o,".")):u[o]=n}else u[o]=n}else u[o]=n},n=0;n<e;n++)t(n);return u}function queryToJson(e){for(var t,n,r,o=decodeURIComponent,a=e.split("&"),i={},s=0,c=a.length;s<c;++s)if((r=a[s]).length){var p=r.indexOf("=");n=p<0?(t=o(r),""):(t=o(r.slice(0,p)),o(r.slice(p+1))),"string"==typeof i[t]&&(i[t]=[i[t]]),isArray(i[t])?i[t].push(n):i[t]=n}return i}var _loadTime=(new Date).getTime().toString(),_i=1;function getUniqueKey(){return _loadTime+_i++}function getObjChainValue(e,t){for(var n=t.split("."),r=0,o=n.length;r<o;r++){var a=n[r];if(r===o-1)return e[a];e=e[a]}}function getElementById(e,t,n){if(!e)return null;var r;"component"===n?r=(e.$component.$childs||{})[t.replace("#","")]||null:r=my.createSelectorQuery().in(e).select(t);return r||null}var compIdsMapper,id$1=0;function genId(){return String(id$1++)}try{compIdsMapper=new Map}catch(e){compIdsMapper=new SimpleMap}function genCompid(e,t){if(!taro.Current||!taro.Current.current||!taro.Current.current.$scope)return[];var n=compIdsMapper.get(e);if(t){var r=genId();return compIdsMapper.set(e,r),[n,r]}var o=n||genId();return n||compIdsMapper.set(e,o),[null,o]}var prefix=0;function genCompPrefix(){return String(prefix++)}var data={};function cacheDataSet(e,t){data[e]=t}function cacheDataGet(e,t){var n=data[e];return t&&delete data[e],n}function cacheDataHas(e){return e in data}var anonymousFnNamePreffix="funPrivate",COLLECT_CHILDS="onTaroCollectChilds",preloadPrivateKey="__preload_",PRELOAD_DATA_KEY="preload",preloadInitedComponent="$preloadComponent",pageExtraFns=["onTitleClick","onOptionMenuClick","onPageScroll","onPullDownRefresh","onReachBottom","onShareAppMessage","onTabItemTap"];function bindStaticFns(t,n){for(var e in n)"function"==typeof n[e]&&(t[e]=n[e]);Object.getOwnPropertyNames(n).forEach(function(e){["arguments","caller","length","name","prototype"].indexOf(e)<0&&"function"==typeof n[e]&&(t[e]=n[e])})}function isToBeEvent(e){return!(!e||"object"!==_typeof(e)||!e.timeStamp&&!e.target)}function processEventTarget(e){var t=Object.assign({},e),n=t.currentTarget,r=t.detail,o=t.target;return n&&n.pageX&&n.pageY&&(n.x=n.pageX,n.y=n.pageY),r&&r.pageX&&r.pageY&&(r.x=r.pageX,r.y=r.pageY),o&&o.pageX&&o.pageY&&(o.x=o.pageX,o.y=o.pageY),t}function processEvent(u,e){e[u]||(e[u]=function(e){var t=this.$component,n=t;if(!isToBeEvent(e))return t[u].apply(n,arguments);(e=processEventTarget(e)).preventDefault=function(){},e.stopPropagation=function(){},e.currentTarget=e.currentTarget||e.target||{},e.target&&Object.assign(e.target,e.detail),Object.assign(e.currentTarget,e.detail);var r=-1<u.indexOf(anonymousFnNamePreffix),o=[],a=[],i=e.currentTarget.dataset||{},s={},c=e.type.toLocaleLowerCase();if(Object.keys(i).forEach(function(e){var t=e.toLocaleLowerCase();if(/^e/.test(t)&&0<=(t=(t=t.replace(/^e/,"")).replace(/^on/,"").toLocaleLowerCase()).indexOf(c)){var n=t.replace(c,"");/^(a[a-z]|so)$/.test(n)&&(s[n]=i[e])}}),r){var p=null;"so"in s&&("this"!==s.so&&(p=s.so),delete s.so),isEmptyObject(s)||(a=Object.keys(s).sort().map(function(e){return s[e]})),o=[p].concat(_toConsumableArray(a),[e])}else"so"in s&&("this"!==s.so&&(n=s.so),delete s.so),isEmptyObject(s)||(a=Object.keys(s).sort().map(function(e){return s[e]})),o=_toConsumableArray(a).concat([e]);return t[u].apply(n,o)})}function bindEvents(e,t,n){e.methods=e.methods||{};var r=n?e:e.methods;t.forEach(function(e){processEvent(e,r)})}function filterProps(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r=Object.assign({},n,t);if(!isEmptyObject(e))for(var o in e)void 0===r[o]&&(r[o]=e[o]);return r}function componentTrigger(n,e,t){if(t=t||[],"componentDidMount"===e&&n.$$refs&&0<n.$$refs.length){var r={};n.$$refs.forEach(function(e){var t;"component"===e.type?t=(n.$childs||{})[e.id]||null:t=my.createSelectorQuery().in(n.$scope).select("#".concat(e.id));taro.commitAttachRef(e,t,n,r,!0),e.target=t}),n.refs=Object.assign({},n.refs||{},r)}if("componentWillUnmount"===e&&n.$scope.props){var o=n.$scope.props.compid;o&&my.propsManager.delete(o)}if(n[e]&&"function"==typeof n[e]&&n[e].apply(n,_toConsumableArray(t)),"componentWillMount"===e&&(n._dirty=!1,n._disable=!1,n.state=n.getState()),"componentWillUnmount"===e){n._dirty=!0,n._disable=!0,n.$router={params:{},path:""},n._pendingStates=[],n._pendingCallbacks=[],taro.detachAllRef(n);var a=n.$scope;n.$scope.$page&&"function"==typeof n.props[COLLECT_CHILDS]&&"string"==typeof a.props.id&&n.props[COLLECT_CHILDS](null,a.props.id)}}var hasPageInited=!1;function initComponent(e){this.$component.__isReady||(this.$component.__isReady=!0,e&&!hasPageInited&&(hasPageInited=!0),(hasPageInited||e)&&mountComponent(this.$component))}function createComponent(o,a){var e={},t=filterProps(o.defaultProps),n=new o(t);n._constructor&&n._constructor(t);try{taro.Current.current=n,taro.Current.index=0,n.state=n._createData()||n.state}catch(e){a?console.warn("[Taro warn] 请给页面提供初始 `state` 以提高初次渲染性能！"):console.warn("[Taro warn] 请给组件提供一个 `defaultProps` 以提高初次渲染性能！"),console.warn(e)}var r={data:e=Object.assign({},e,n.props,n.state)};return a?(Object.assign(r,{onLoad:function(e){var t=0<arguments.length&&void 0!==e?e:{};if(hasPageInited=!1,cacheDataHas(preloadInitedComponent)?(this.$component=cacheDataGet(preloadInitedComponent,!0),this.$component.$componentType="PAGE"):this.$component=new o({},a),this.$component._init(this),this.$component.render=this.$component._createData,this.$component.__propTypes=o.propTypes,cacheDataHas(PRELOAD_DATA_KEY)){var n=cacheDataGet(PRELOAD_DATA_KEY,!0);this.$component.$router.preload=n}var r=getApp();r.$router&&r.$router.params&&r.$router.params.query&&Object.keys(r.$router.params.query).length&&1===getCurrentPages().length?Object.assign(this.$component.$router.params,t,r.$router.params.query):Object.assign(this.$component.$router.params,t),this.$component.$router.path=getCurrentPageUrl(),cacheDataHas(t[preloadPrivateKey])?this.$component.$preloadData=cacheDataGet(t[preloadPrivateKey],!0):this.$component.$preloadData=null,initComponent.apply(this,[a])},onUnload:function(){componentTrigger(this.$component,"componentWillUnmount");var e=this.$component,t=e.$$renderPropsEvents;e.hooks.forEach(function(e){isFunction(e.cleanup)&&e.cleanup()}),isArray(t)&&t.forEach(function(e){return taro.eventCenter.off(e)})},onShow:function(){this.$component&&this.$component.__mounted&&componentTrigger(this.$component,"componentDidShow")},onHide:function(){componentTrigger(this.$component,"componentDidHide")}}),pageExtraFns.forEach(function(t){n[t]&&"function"==typeof n[t]&&(r[t]=function(){var e=this.$component;if(e[t]&&"function"==typeof e[t])return e[t].apply(e,arguments)})}),o.$$componentPath&&cacheDataSet(o.$$componentPath,o)):Object.assign(r,{didMount:function(){var e=this.props.compid,t=filterProps(o.defaultProps,my.propsManager.map[e],{});this.$component=new o(t,a),this.$component._init(this),this.$component.render=this.$component._createData,this.$component.__propTypes=o.propTypes,e&&(my.propsManager.observers[e]={component:this.$component,ComponentClass:o}),initComponent.apply(this,[a])},didUpdate:function(e){var t=e.compid,n=this.props.compid;if(t&&n&&t!==n&&!my.propsManager.map[t]&&my.propsManager.map[n]&&!my.propsManager.observers[n]){my.propsManager.observers[n]={component:this.$component,ComponentClass:o};var r=filterProps(o.defaultProps,my.propsManager.map[n],this.$component.props);this.$component.props=r,updateComponent(this.$component)}},didUnmount:function(){var e=this.$component;componentTrigger(e,"componentWillUnmount"),e.hooks.forEach(function(e){isFunction(e.cleanup)&&e.cleanup()})}}),bindStaticFns(r,o),o.$$events&&bindEvents(r,o.$$events,a),r}var reactIs_production_min=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,o=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,i=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,p=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,l=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,m=n?Symbol.for("react.suspense_list"):60120,_=n?Symbol.for("react.memo"):60115,y=n?Symbol.for("react.lazy"):60116,h=n?Symbol.for("react.fundamental"):60117,v=n?Symbol.for("react.responder"):60118,g=n?Symbol.for("react.scope"):60119;function b(e){if("object"===_typeof(e)&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case l:case a:case s:case i:case d:return e;default:switch(e=e&&e.$$typeof){case p:case f:case c:return e;default:return t}}case y:case _:case o:return t}}}function P(e){return b(e)===l}t.typeOf=b,t.AsyncMode=u,t.ConcurrentMode=l,t.ContextConsumer=p,t.ContextProvider=c,t.Element=r,t.ForwardRef=f,t.Fragment=a,t.Lazy=y,t.Memo=_,t.Portal=o,t.Profiler=s,t.StrictMode=i,t.Suspense=d,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===l||e===s||e===i||e===d||e===m||"object"===_typeof(e)&&null!==e&&(e.$$typeof===y||e.$$typeof===_||e.$$typeof===c||e.$$typeof===p||e.$$typeof===f||e.$$typeof===h||e.$$typeof===v||e.$$typeof===g)},t.isAsyncMode=function(e){return P(e)||b(e)===u},t.isConcurrentMode=P,t.isContextConsumer=function(e){return b(e)===p},t.isContextProvider=function(e){return b(e)===c},t.isElement=function(e){return"object"===_typeof(e)&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return b(e)===f},t.isFragment=function(e){return b(e)===a},t.isLazy=function(e){return b(e)===y},t.isMemo=function(e){return b(e)===_},t.isPortal=function(e){return b(e)===o},t.isProfiler=function(e){return b(e)===s},t.isStrictMode=function(e){return b(e)===i},t.isSuspense=function(e){return b(e)===d}});unwrapExports(reactIs_production_min);var reactIs_production_min_1=reactIs_production_min.typeOf,reactIs_production_min_2=reactIs_production_min.AsyncMode,reactIs_production_min_3=reactIs_production_min.ConcurrentMode,reactIs_production_min_4=reactIs_production_min.ContextConsumer,reactIs_production_min_5=reactIs_production_min.ContextProvider,reactIs_production_min_6=reactIs_production_min.Element,reactIs_production_min_7=reactIs_production_min.ForwardRef,reactIs_production_min_8=reactIs_production_min.Fragment,reactIs_production_min_9=reactIs_production_min.Lazy,reactIs_production_min_10=reactIs_production_min.Memo,reactIs_production_min_11=reactIs_production_min.Portal,reactIs_production_min_12=reactIs_production_min.Profiler,reactIs_production_min_13=reactIs_production_min.StrictMode,reactIs_production_min_14=reactIs_production_min.Suspense,reactIs_production_min_15=reactIs_production_min.isValidElementType,reactIs_production_min_16=reactIs_production_min.isAsyncMode,reactIs_production_min_17=reactIs_production_min.isConcurrentMode,reactIs_production_min_18=reactIs_production_min.isContextConsumer,reactIs_production_min_19=reactIs_production_min.isContextProvider,reactIs_production_min_20=reactIs_production_min.isElement,reactIs_production_min_21=reactIs_production_min.isForwardRef,reactIs_production_min_22=reactIs_production_min.isFragment,reactIs_production_min_23=reactIs_production_min.isLazy,reactIs_production_min_24=reactIs_production_min.isMemo,reactIs_production_min_25=reactIs_production_min.isPortal,reactIs_production_min_26=reactIs_production_min.isProfiler,reactIs_production_min_27=reactIs_production_min.isStrictMode,reactIs_production_min_28=reactIs_production_min.isSuspense,reactIs_development=createCommonjsModule(function(e,t){});unwrapExports(reactIs_development);var reactIs_development_1=reactIs_development.typeOf,reactIs_development_2=reactIs_development.AsyncMode,reactIs_development_3=reactIs_development.ConcurrentMode,reactIs_development_4=reactIs_development.ContextConsumer,reactIs_development_5=reactIs_development.ContextProvider,reactIs_development_6=reactIs_development.Element,reactIs_development_7=reactIs_development.ForwardRef,reactIs_development_8=reactIs_development.Fragment,reactIs_development_9=reactIs_development.Lazy,reactIs_development_10=reactIs_development.Memo,reactIs_development_11=reactIs_development.Portal,reactIs_development_12=reactIs_development.Profiler,reactIs_development_13=reactIs_development.StrictMode,reactIs_development_14=reactIs_development.Suspense,reactIs_development_15=reactIs_development.isValidElementType,reactIs_development_16=reactIs_development.isAsyncMode,reactIs_development_17=reactIs_development.isConcurrentMode,reactIs_development_18=reactIs_development.isContextConsumer,reactIs_development_19=reactIs_development.isContextProvider,reactIs_development_20=reactIs_development.isElement,reactIs_development_21=reactIs_development.isForwardRef,reactIs_development_22=reactIs_development.isFragment,reactIs_development_23=reactIs_development.isLazy,reactIs_development_24=reactIs_development.isMemo,reactIs_development_25=reactIs_development.isPortal,reactIs_development_26=reactIs_development.isProfiler,reactIs_development_27=reactIs_development.isStrictMode,reactIs_development_28=reactIs_development.isSuspense,reactIs=createCommonjsModule(function(e){e.exports=reactIs_production_min}),getOwnPropertySymbols=Object.getOwnPropertySymbols,hasOwnProperty$2=Object.prototype.hasOwnProperty,propIsEnumerable=Object.prototype.propertyIsEnumerable;function toObject(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function shouldUseNative(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}var objectAssign=shouldUseNative()?Object.assign:function(e,t){for(var n,r,o=toObject(e),a=1;a<arguments.length;a++){for(var i in n=Object(arguments[a]))hasOwnProperty$2.call(n,i)&&(o[i]=n[i]);if(getOwnPropertySymbols){r=getOwnPropertySymbols(n);for(var s=0;s<r.length;s++)propIsEnumerable.call(n,r[s])&&(o[r[s]]=n[r[s]])}}return o},ReactPropTypesSecret="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret,printWarning=function(){};function checkPropTypes(e,t,n,r,o){}checkPropTypes.resetWarningCache=function(){};var checkPropTypes_1=checkPropTypes,has$1=Function.call.bind(Object.prototype.hasOwnProperty),printWarning$1=function(){};function emptyFunctionThatReturnsNull(){return null}var factoryWithTypeCheckers=function(i,p){var a="function"==typeof Symbol&&Symbol.iterator,s="@@iterator";var u="<<anonymous>>",e={array:t("array"),bool:t("boolean"),func:t("function"),number:t("number"),object:t("object"),string:t("string"),symbol:t("symbol"),any:n(emptyFunctionThatReturnsNull),arrayOf:function(c){return n(function(e,t,n,r,o){if("function"!=typeof c)return new f("Property `"+o+"` of component `"+n+"` has invalid PropType notation inside arrayOf.");var a=e[t];if(!Array.isArray(a))return new f("Invalid "+r+" `"+o+"` of type `"+d(a)+"` supplied to `"+n+"`, expected an array.");for(var i=0;i<a.length;i++){var s=c(a,i,n,r,o+"["+i+"]",ReactPropTypesSecret_1);if(s instanceof Error)return s}return null})},element:n(function(e,t,n,r,o){var a=e[t];return i(a)?null:new f("Invalid "+r+" `"+o+"` of type `"+d(a)+"` supplied to `"+n+"`, expected a single ReactElement.")}),elementType:n(function(e,t,n,r,o){var a=e[t];return reactIs.isValidElementType(a)?null:new f("Invalid "+r+" `"+o+"` of type `"+d(a)+"` supplied to `"+n+"`, expected a single ReactElement type.")}),instanceOf:function(s){return n(function(e,t,n,r,o){if(e[t]instanceof s)return null;var a,i=s.name||u;return new f("Invalid "+r+" `"+o+"` of type `"+((a=e[t]).constructor&&a.constructor.name?a.constructor.name:u)+"` supplied to `"+n+"`, expected instance of `"+i+"`.")})},node:n(function(e,t,n,r,o){return c(e[t])?null:new f("Invalid "+r+" `"+o+"` supplied to `"+n+"`, expected a ReactNode.")}),objectOf:function(p){return n(function(e,t,n,r,o){if("function"!=typeof p)return new f("Property `"+o+"` of component `"+n+"` has invalid PropType notation inside objectOf.");var a=e[t],i=d(a);if("object"!==i)return new f("Invalid "+r+" `"+o+"` of type `"+i+"` supplied to `"+n+"`, expected an object.");for(var s in a)if(has$1(a,s)){var c=p(a,s,n,r,o+"."+s,ReactPropTypesSecret_1);if(c instanceof Error)return c}return null})},oneOf:function(c){if(!Array.isArray(c))return emptyFunctionThatReturnsNull;return n(function(e,t,n,r,o){for(var a=e[t],i=0;i<c.length;i++)if(l(a,c[i]))return null;var s=JSON.stringify(c,function(e,t){return"symbol"===m(t)?String(t):t});return new f("Invalid "+r+" `"+o+"` of value `"+String(a)+"` supplied to `"+n+"`, expected one of "+s+".")})},oneOfType:function(i){if(!Array.isArray(i))return emptyFunctionThatReturnsNull;for(var e=0;e<i.length;e++){var t=i[e];if("function"!=typeof t)return printWarning$1("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+r(t)+" at index "+e+"."),emptyFunctionThatReturnsNull}return n(function(e,t,n,r,o){for(var a=0;a<i.length;a++){if(null==(0,i[a])(e,t,n,r,o,ReactPropTypesSecret_1))return null}return new f("Invalid "+r+" `"+o+"` supplied to `"+n+"`.")})},shape:function(u){return n(function(e,t,n,r,o){var a=e[t],i=d(a);if("object"!==i)return new f("Invalid "+r+" `"+o+"` of type `"+i+"` supplied to `"+n+"`, expected `object`.");for(var s in u){var c=u[s];if(c){var p=c(a,s,n,r,o+"."+s,ReactPropTypesSecret_1);if(p)return p}}return null})},exact:function(l){return n(function(e,t,n,r,o){var a=e[t],i=d(a);if("object"!==i)return new f("Invalid "+r+" `"+o+"` of type `"+i+"` supplied to `"+n+"`, expected `object`.");var s=objectAssign({},e[t],l);for(var c in s){var p=l[c];if(!p)return new f("Invalid "+r+" `"+o+"` key `"+c+"` supplied to `"+n+"`.\nBad object: "+JSON.stringify(e[t],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(l),null,"  "));var u=p(a,c,n,r,o+"."+c,ReactPropTypesSecret_1);if(u)return u}return null})}};function l(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function f(e){this.message=e,this.stack=""}function n(c){function e(e,t,n,r,o,a,i){if(r=r||u,a=a||n,i!==ReactPropTypesSecret_1&&p){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}return null==t[n]?e?null===t[n]?new f("The "+o+" `"+a+"` is marked as required in `"+r+"`, but its value is `null`."):new f("The "+o+" `"+a+"` is marked as required in `"+r+"`, but its value is `undefined`."):null:c(t,n,r,o,a)}var t=e.bind(null,!1);return t.isRequired=e.bind(null,!0),t}function t(s){return n(function(e,t,n,r,o,a){var i=e[t];return d(i)===s?null:new f("Invalid "+r+" `"+o+"` of type `"+m(i)+"` supplied to `"+n+"`, expected `"+s+"`.")})}function c(e){switch(_typeof(e)){case"number":case"string":case"undefined":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(c);if(null===e||i(e))return!0;var t=function(e){var t=e&&(a&&e[a]||e[s]);if("function"==typeof t)return t}(e);if(!t)return!1;var n,r=t.call(e);if(t!==e.entries){for(;!(n=r.next()).done;)if(!c(n.value))return!1}else for(;!(n=r.next()).done;){var o=n.value;if(o&&!c(o[1]))return!1}return!0;default:return!1}}function d(e){var t,n=_typeof(e);return Array.isArray(e)?"array":e instanceof RegExp?"object":(t=e,"symbol"===n||t&&("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)?"symbol":n)}function m(e){if(null==e)return""+e;var t=d(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function r(e){var t=m(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}return f.prototype=Error.prototype,e.checkPropTypes=checkPropTypes_1,e.resetWarningCache=checkPropTypes_1.resetWarningCache,e.PropTypes=e};function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function e(e,t,n,r,o,a){if(a!==ReactPropTypesSecret_1){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}var n={array:e.isRequired=e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return n.PropTypes=n},propTypes=createCommonjsModule(function(e){e.exports=factoryWithThrowingShims()}),isDEV="undefined"==typeof process||!process.env||!1;function hasNewLifecycle(e){var t=e.constructor.getDerivedStateFromProps,n=e.getSnapshotBeforeUpdate;return isFunction(t)||isFunction(n)}function callGetDerivedStateFromProps(e,t,n){var r,o=e.constructor.getDerivedStateFromProps;if(isFunction(o)){var a=o(t,n);isUndefined(a)?console.warn("getDerivedStateFromProps 没有返回任何内容，这个生命周期必须返回 null 或一个新对象。"):r=Object.assign({},n,a)}return r}function callGetSnapshotBeforeUpdate(e,t,n){var r,o=e.getSnapshotBeforeUpdate;return isFunction(o)&&(r=o.call(e,t,n)),r}function updateComponent(e){var t=e.props,n=e.__propTypes;if(isDEV&&n){var r=e.constructor.name;if(isUndefined(r)){var o=e.constructor.toString().match(/^function\s*([^\s(]+)/);r=isArray(o)?o[0]:"Component"}propTypes.checkPropTypes(n,t,"prop",r)}var a=e.prevProps||t;e.props=a,e.__mounted&&!0===e._unsafeCallUpdate&&!hasNewLifecycle(e)&&e.componentWillReceiveProps&&(e._disable=!0,e.componentWillReceiveProps(t),e._disable=!1);var i=e.getState(),s=e.prevState||i,c=callGetDerivedStateFromProps(e,t,i);isUndefined(c)||(i=c);var p=!1;e.__mounted&&("function"!=typeof e.shouldComponentUpdate||e._isForceUpdate||!1!==e.shouldComponentUpdate(t,i)?!hasNewLifecycle(e)&&isFunction(e.componentWillUpdate)&&e.componentWillUpdate(t,i):p=!0),e.props=t,e.state=i,e._dirty=!1,e._isForceUpdate=!1,p||doUpdate(e,a,s),e.prevProps=e.props,e.prevState=e.state}function injectContextType(t){var e=t.constructor.contextType;if(e){var n=e.context,r=n.emitter;if(null===r)return void(t.context=n._defaultValue);t._hasContext||(t._hasContext=!0,r.on(function(e){return enqueueRender(t)})),t.context=r.value}}function mountComponent(e){var t=e.props;e.__componentWillMountTriggered||e._constructor&&e._constructor(t);var n=callGetDerivedStateFromProps(e,t,e.state);isUndefined(n)||(e.state=n),e._dirty=!1,e._disable=!1,e._isForceUpdate=!1,e.__componentWillMountTriggered||(e.__componentWillMountTriggered=!0,hasNewLifecycle(e)||componentTrigger(e,"componentWillMount")),doUpdate(e,t,e.state),e.prevProps=e.props,e.prevState=e.state}function doUpdate(n,t,r){var e=n.state,o=n.props,a=void 0===o?{}:o,i=e||{};if(n._createData&&(n.__isReady&&(injectContextType(n),taro.Current.current=n,taro.Current.index=0,taro.invokeEffects(n,!0)),i=n._createData(e,a)||i,n.__isReady&&(taro.Current.current=null)),i=Object.assign({},a,i),n.$usedState&&n.$usedState.length){var s={};n.$usedState.forEach(function(e){var t=taro.internal_safe_get(i,e);if(void 0!==t)if("object"===_typeof(t)){if(isEmptyObject(t))return taro.internal_safe_set(s,e,t);isEmptyObject(t=shakeFnFromObject(t))||taro.internal_safe_set(s,e,t)}else taro.internal_safe_set(s,e,t)}),i=s}i.$taroCompReady=!0;var c,p=diffObjToPath(i,n.$scope.data);n.__mounted&&(c=callGetSnapshotBeforeUpdate(n,t,r));var u=[];n._pendingCallbacks&&n._pendingCallbacks.length&&(u=n._pendingCallbacks,n._pendingCallbacks=[]);function l(){if(n.__mounted?(taro.invokeEffects(n),n.$$refs&&0<n.$$refs.length&&n.$$refs.forEach(function(e){if("component"===e.type){var t=(n.$childs||{})[e.id]||null;t!==e.target&&(taro.commitAttachRef(e,t,n,n.refs),e.target=t)}}),n.$$hasLoopRef&&((taro.Current.current=n)._disableEffect=!0,n._createData(n.state,n.props,!0),n._disableEffect=!1,taro.Current.current=null),"function"==typeof n.componentDidUpdate&&n.componentDidUpdate(t,r,c)):"PAGE"===n.$componentType&&n.$$hasLoopRef&&((taro.Current.current=n)._disableEffect=!0,n._createData(n.state,n.props,!0),n._disableEffect=!1,taro.Current.current=null),u.length)for(var e=u.length;0<=--e;)"function"==typeof u[e]&&u[e].call(n);n.__mounted||(n.__mounted=!0,componentTrigger(n,"componentDidMount"),componentTrigger(n,"componentDidShow"))}0===Object.keys(p).length?l():n.$scope.setData(p,l)}var items=[];function enqueueRender(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];e._isForceUpdate=t,!e._dirty&&(e._dirty=!0)&&1===items.push(e)&&nextTick(function(){rerender()})}function rerender(){var e,t=items;for(items=[];e=t.pop();)e._dirty&&updateComponent(e,!0)}var PRELOAD_DATA_KEY$1="preload",COLLECT_CHILDS$1="onTaroCollectChilds",BaseComponent=function(){function r(){var n=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length?arguments[1]:void 0;_classCallCheck(this,r),_defineProperty(this,"__computed",{}),_defineProperty(this,"__props",{}),_defineProperty(this,"__isReady",!1),_defineProperty(this,"__mounted",!1),_defineProperty(this,"nextProps",{}),_defineProperty(this,"_dirty",!0),_defineProperty(this,"_disable",!0),_defineProperty(this,"_isForceUpdate",!1),_defineProperty(this,"_pendingStates",[]),_defineProperty(this,"_pendingCallbacks",[]),_defineProperty(this,"$componentType",""),_defineProperty(this,"$router",{params:{},path:""}),_defineProperty(this,"_afterScheduleEffect",!1),_defineProperty(this,"_disableEffect",!1),_defineProperty(this,"hooks",[]),_defineProperty(this,"effects",[]),_defineProperty(this,"layoutEffects",[]),_defineProperty(this,"$collectChilds",function(e,t){n.$childs||(n.$childs={}),n.$childs[t]=e}),this.state={},this.props=e,this.$componentType=t?"PAGE":"COMPONENT",this.$prefix=genCompPrefix(),this.isTaroComponent=this.$componentType&&this.$router&&this._pendingStates}return _createClass(r,[{key:"_constructor",value:function(e){this.props=e||{}}},{key:"_init",value:function(e){(this.$scope=e).$page&&"function"==typeof this.props[COLLECT_CHILDS$1]&&"string"==typeof e.props.id&&this.props[COLLECT_CHILDS$1](this,e.props.id)}},{key:"setState",value:function(e,t){e&&(this._pendingStates=this._pendingStates||[]).push(e),"function"==typeof t&&(this._pendingCallbacks=this._pendingCallbacks||[]).push(t),this._disable||enqueueRender(this,taro.internal_force_update===t)}},{key:"getState",value:function(){var t=this,e=this._pendingStates,n=this.state,r=this.props,o=Object.assign({},n);if(delete o.__data,!e.length)return o;var a=e.concat();return this._pendingStates.length=0,a.forEach(function(e){"function"==typeof e&&(e=e.call(t,o,r)),Object.assign(o,e)}),o}},{key:"forceUpdate",value:function(e){"function"==typeof e&&(this._pendingCallbacks=this._pendingCallbacks||[]).push(e),this._isForceUpdate=!0,updateComponent(this)}},{key:"$preload",value:function(e,t){var n=cacheDataGet(PRELOAD_DATA_KEY$1)||{};if("object"===_typeof(e))for(var r in e)n[r]=e[r];else n[e]=t;cacheDataSet(PRELOAD_DATA_KEY$1,n)}},{key:"__triggerPropsFn",value:function(e,t){var n,r={},o="data-e-".concat(e,"-");for(var a in this.props)-1<a.indexOf(o)&&(r[a.replace(o,"").replace("-","")]=this.props[a]);r.so&&delete r.so,n=Object.keys(r).sort().map(function(e){return r[e]});var i=getObjChainValue(this.props,e);"function"==typeof i&&i.apply(void 0,_toConsumableArray(n).concat(_toConsumableArray(t)))}}]),r}(),PureComponent=function(){function a(){var e,t;_classCallCheck(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return _defineProperty(_assertThisInitialized(_assertThisInitialized(t=_possibleConstructorReturn(this,(e=_getPrototypeOf(a)).call.apply(e,[this].concat(r))))),"isPureComponent",!0),t}return _inherits(a,BaseComponent),_createClass(a,[{key:"shouldComponentUpdate",value:function(e,t){return!shallowEqual(this.props,e)||!shallowEqual(this.state,t)}}]),a}();function createApp(e){var t=new e,n={onLaunch:function(e){t.$app=this,t.$app.$router=t.$router={params:e},t.componentWillMount&&t.componentWillMount(),t.componentDidMount&&t.componentDidMount()},onShow:function(e){Object.assign(t.$router.params,e),t.componentDidShow&&t.componentDidShow()},onHide:function(){t.componentDidHide&&t.componentDidHide()},onError:function(e){t.componentDidCatchError&&t.componentDidCatchError(e)},onPageNotFound:function(e){t.componentDidNotFound&&t.componentDidNotFound(e)}};return t.onShareAppMessage&&(n.onShareAppMessage=t.onShareAppMessage),Object.assign(n,t)}var apiDiff={showActionSheet:{options:{change:[{old:"itemList",new:"items"}]}},showToast:{options:{change:[{old:"title",new:"content"},{old:"icon",new:"type"}]}},showLoading:{options:{change:[{old:"title",new:"content"}]}},setNavigationBarTitle:{alias:"setNavigationBar"},setNavigationBarColor:{alias:"setNavigationBar"},saveImageToPhotosAlbum:{alias:"saveImage",options:{change:[{old:"filePath",new:"url"}]}},previewImage:{options:{set:[{key:"current",value:function(e){return e.urls.indexOf(e.current||e.urls[0])}}]}},getFileInfo:{options:{change:[{old:"filePath",new:"apFilePath"}]}},getSavedFileInfo:{options:{change:[{old:"filePath",new:"apFilePath"}]}},removeSavedFile:{options:{change:[{old:"filePath",new:"apFilePath"}]}},saveFile:{options:{change:[{old:"tempFilePath",new:"apFilePath"}]}},openLocation:{options:{set:[{key:"latitude",value:function(e){return String(e.latitude)}},{key:"longitude",value:function(e){return String(e.longitude)}}]}},uploadFile:{options:{change:[{old:"name",new:"fileName"}]}},getClipboardData:{alias:"getClipboard"},setClipboardData:{alias:"setClipboard",options:{change:[{old:"data",new:"text"}]}},makePhoneCall:{options:{change:[{old:"phoneNumber",new:"number"}]}},scanCode:{alias:"scan",options:{change:[{old:"onlyFromCamera",new:"hideAlbum"}],set:[{key:"type",value:function(e){return e.scanType&&e.scanType[0].slice(0,-4)||"qr"}}]}},setScreenBrightness:{options:{change:[{old:"value",new:"brightness"}]}}},nativeRequest=my.canIUse("request")?my.request:my.httpRequest,RequestQueue={MAX_REQUEST:5,queue:[],request:function(e){return this.push(e),this.run()},push:function(e){this.queue.push(e)},run:function(){var e=this,t=arguments;if(this.queue.length&&this.queue.length<=this.MAX_REQUEST){var n=this.queue.shift(),r=n.complete;return n.complete=function(){r&&r.apply(n,_toConsumableArray(t)),e.run()},nativeRequest(n)}}};function taroInterceptor(e){return request(e.requestParams)}var link=new taro.Link(taroInterceptor);function request(e){"string"==typeof(e=e||{})&&(e={url:e});if(e.headers={"content-type":"application/json"},e.header){for(var t in e.header){var n=t.toLocaleLowerCase();e.headers[n]=e.header[t]}delete e.header}var r,o=e.success,a=e.fail,i=e.complete,s=new Promise(function(t,n){e.success=function(e){e.statusCode=e.status,delete e.status,e.header=e.headers,delete e.headers,o&&o(e),t(e)},e.fail=function(e){a&&a(e),n(e)},e.complete=function(e){i&&i(e)},r=RequestQueue.request(e)});return s.abort=function(e){return e&&e(),r&&r.abort(),s},s}function processApis(e){var t=Object.assign({},taro.onAndSyncApis,taro.noPromiseApis,taro.otherApis);Object.keys(t).forEach(function(h){taro.onAndSyncApis[h]||taro.noPromiseApis[h]?e[h]=function(){if(h in my){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if("getStorageSync"===h){var r=t[0];return null!=r?my[h]({key:r}).data||my[h]({key:r}).APDataStorage||"":console.log("getStorageSync 传入参数错误")}if("setStorageSync"===h){var o=t[0],a=t[1];return null!=o?my[h]({key:o,data:a}):console.log("setStorageSync 传入参数错误")}if("removeStorageSync"===h){var i=t[0];return null!=i?my[h]({key:i}):console.log("removeStorageSync 传入参数错误")}if("createSelectorQuery"===h){var s=my[h]();return s.in=function(){return s},s}var c=t.length,p=t.concat(),u=p[c-1];return u&&u.isTaroComponent&&u.$scope&&p.splice(c-1,1,u.$scope),my[h].apply(my,p)}console.warn("支付宝小程序暂不支持 ".concat(h))}:e[h]=function(o){for(var e=arguments.length,t=new Array(1<e?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];var r=generateSpecialApis(h,o||{}),a=r.api;o=r.options;var i=null,s=Object.assign({},o);if(a in my){var c;if("string"==typeof o)return t.length?(c=my)[a].apply(c,[o].concat(t)):my[a](o);if("navigateTo"===h||"redirectTo"===h||"switchTab"===h){var p=s.url?s.url.replace(/^\//,""):"";-1<p.indexOf("?")&&(p=p.split("?")[0]);var u=cacheDataGet(p);if(u){var l=new u;if(l.componentWillPreload){var f=getUniqueKey(),d=s.url.indexOf("?"),m=-1<d,_=queryToJson(m?s.url.substring(d+1,s.url.length):"");s.url+=(m?"&":"?")+"".concat("__preload_","=").concat(f),cacheDataSet(f,l.componentWillPreload(_)),cacheDataSet("$preloadComponent",l)}}}var y=new Promise(function(n,r){var e;(["fail","success","complete"].forEach(function(t){s[t]=function(e){"success"===t&&("saveFile"===a?e.savedFilePath=e.apFilePath:"downloadFile"===a?e.tempFilePath=e.apFilePath:"chooseImage"===a?e.tempFilePaths=e.apFilePaths:"getClipboard"===a?e.data=e.text:"scan"===a?e.result=e.code:"getScreenBrightness"===a&&(e.value=e.brightness,delete e.brightness)),o[t]&&o[t](e),"success"===t?n(e):"fail"===t&&r(e)}}),t.length)?i=(e=my)[a].apply(e,[s].concat(t)):i=my[a](s)});return"uploadFile"!==a&&"downloadFile"!==a||(y.progress=function(e){return i&&i.onProgressUpdate(e),y},y.abort=function(e){return e&&e(),i&&i.abort(),y}),y}console.warn("支付宝小程序暂不支持 ".concat(a))}})}function pxTransform(e){var t=this.config||{},n=t.designWidth,r=void 0===n?750:n,o=t.deviceRatio,a=void 0===o?{640:1.17,750:1,828:.905}:o;if(!(r in a))throw new Error("deviceRatio 配置中不存在 ".concat(r," 的设置！"));return parseInt(e,10)/a[r]+"rpx"}function generateSpecialApis(o,a){var i=o;return"showModal"===o?(a.cancelButtonText=a.cancelText,a.confirmButtonText=a.confirmText||"确定",!(i="confirm")===a.showCancel&&(a.buttonText=a.confirmText||"确定",i="alert")):Object.keys(apiDiff).forEach(function(e){var t=apiDiff[e];if(o===e&&(t.alias&&(i=t.alias),t.options)){var n=t.options.change,r=t.options.set;n&&n.forEach(function(e){a[e.new]=a[e.old]}),r&&r.forEach(function(e){a[e.key]="function"==typeof e.value?e.value(a):e.value})}}),{api:i,options:a}}function initNativeApi(e){processApis(e),e.request=link.request.bind(link),e.addInterceptor=link.addInterceptor.bind(link),e.cleanInterceptors=link.cleanInterceptors.bind(link),e.getCurrentPages=getCurrentPages,e.getApp=getApp,e.initPxTransform=taro.initPxTransform.bind(e),e.pxTransform=pxTransform.bind(e)}var Manager=function(){function e(){_classCallCheck(this,e),_defineProperty(this,"map",{}),_defineProperty(this,"observers",{})}return _createClass(e,[{key:"set",value:function(e,t,n){var r=0<arguments.length&&void 0!==e?e:{},o=1<arguments.length?t:void 0,a=2<arguments.length?n:void 0;if(o){a&&(this.observers[o]=this.observers[a],this.delete(a));var i=this.observers;this.map[o]||Object.defineProperty(this.map,o,{configurable:!0,get:function(){return this["__".concat(o)]},set:function(e){this["__".concat(o)]=e;var t=i[o]&&i[o].component,n=i[o]&&i[o].ComponentClass;if(t&&n&&t.__isReady){var r=filterProps(n.defaultProps,e,t.props);t.props=r,nextTick(function(){t._unsafeCallUpdate=!0,updateComponent(t),t._unsafeCallUpdate=!1})}}}),this.map[o]=r}}},{key:"delete",value:function(e){delete this.map[e],delete this.map["__".concat(e)],delete this.observers[e]}}]),e}(),propsManager=new Manager;my.propsManager||(my.propsManager=propsManager);var Taro={Component:BaseComponent,PureComponent:PureComponent,createApp:createApp,initNativeApi:initNativeApi,Events:taro.Events,eventCenter:taro.eventCenter,getEnv:taro.getEnv,createRef:taro.createRef,render:taro.render,ENV_TYPE:taro.ENV_TYPE,internal_safe_get:taro.internal_safe_get,internal_safe_set:taro.internal_safe_set,internal_inline_style:taro.internal_inline_style,createComponent:createComponent,internal_get_original:taro.internal_get_original,interceptors:taro.interceptors,RefsArray:taro.RefsArray,getElementById:getElementById,genCompid:genCompid,useEffect:taro.useEffect,useLayoutEffect:taro.useLayoutEffect,useReducer:taro.useReducer,useState:taro.useState,useDidShow:taro.useDidShow,useDidHide:taro.useDidHide,usePullDownRefresh:taro.usePullDownRefresh,useReachBottom:taro.useReachBottom,usePageScroll:taro.usePageScroll,useResize:taro.useResize,useShareAppMessage:taro.useShareAppMessage,useTabItemTap:taro.useTabItemTap,useRouter:taro.useRouter,useScope:taro.useScope,useRef:taro.useRef,useCallback:taro.useCallback,useMemo:taro.useMemo,useImperativeHandle:taro.useImperativeHandle,useContext:taro.useContext,createContext:taro.createContext,memo:taro.memo,shallowEqual:shallowEqual};initNativeApi(Taro),exports.Taro=Taro,exports.default=Taro;